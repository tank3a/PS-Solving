import java.util.*;
import java.io.FileInputStream;
import java.io.IOException;
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.io.BufferedWriter;
import java.io.OutputStreamWriter;

class Main {
  public static void main(String[] args) throws IOException{
    //System.setIn(new FileInputStream("input.txt"));
    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
    String[] init = br.readLine().split(" ");
    int v = Integer.parseInt(init[0]);
    int e = Integer.parseInt(init[1]);
    int[][] map = new int[v+1][v+1];
    for(int i=1;i<=v;i++){
      for(int j=1;j<=v;j++){
        map[i][j] = 200000000;
      }
    }
    for(int i=0;i<e;i++){
      String[] temp = br.readLine().split(" ");
      map[Integer.parseInt(temp[0])][Integer.parseInt(temp[1])] = Integer.parseInt(temp[2]);
    }
    
    for (int k = 1; k <= v; k++) {
      for (int i = 1; i <= v; i++) {
          for (int j = 1; j <= v; j++) {
            if (i == j) {
                continue;
            }
            if (map[i][j] > map[i][k] + map[k][j]) {
               map[i][j] = map[i][k] + map[k][j];
            }
          }
      }
    }

    int ans = 200000000;
    for (int i = 1; i <= v; i++) {
      for (int j = 1; j <= v; j++) {
          if (i == j) {
              continue;
          }
          if (map[i][j] != 200000000 && map[j][i] != 200000000) {
              ans = Math.min(ans, map[i][j] + map[j][i]);
          }
      }
    }
    ans = (ans == 200000000) ? -1 : ans;

    bw.write(ans + "\n");
    bw.flush();
    bw.close();
  }


}
